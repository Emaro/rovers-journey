[gd_scene load_steps=32 format=3 uid="uid://b8h0h8nkkq1yv"]

[ext_resource type="PackedScene" uid="uid://b1cq10wl1t6rd" path="res://ui/hud.tscn" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://b38w75aqlbwan" path="res://scenes/alien_1.tscn" id="4_jyhfs"]
[ext_resource type="PackedScene" uid="uid://c1yrv7iljhb0h" path="res://scenes/new_rover.tscn" id="5_tbgi4"]
[ext_resource type="Script" uid="uid://bso0ngaucisw3" path="res://scenes/camera_arm.gd" id="6_tefeu"]
[ext_resource type="PackedScene" uid="uid://bmhlq50ko23ih" path="res://resources/RockResource.tscn" id="6_tipki"]
[ext_resource type="PackedScene" uid="uid://dxsgfnjoxo0bf" path="res://resources/SandstoneResource.tscn" id="7_85g3d"]
[ext_resource type="PackedScene" uid="uid://437odqqfoey1" path="res://resources/WoodResource.tscn" id="8_0ld40"]
[ext_resource type="PackedScene" uid="uid://cmmmoxstg8f1b" path="res://resources/MetalScrapResource.tscn" id="8_choun"]
[ext_resource type="PackedScene" uid="uid://ixdaxlkbmvmq" path="res://scenes/alien_t1.tscn" id="9_85g3d"]
[ext_resource type="PackedScene" uid="uid://djbuj76cunh6w" path="res://resources/CrystalResource.tscn" id="9_gqmmt"]
[ext_resource type="PackedScene" uid="uid://dqddng704tpxf" path="res://scenes/tower_part_1.tscn" id="10_choun"]
[ext_resource type="PackedScene" uid="uid://3vafua04vy5h" path="res://scenes/alien_t2.tscn" id="11_eb6dy"]
[ext_resource type="PackedScene" uid="uid://bdcwncw53o5eh" path="res://scenes/tower_part_2.tscn" id="12_trceg"]
[ext_resource type="PackedScene" uid="uid://cpirfnsewblna" path="res://scenes/alien_t3.tscn" id="13_a8y0u"]
[ext_resource type="PackedScene" uid="uid://cqnhyt7o6klmf" path="res://scenes/tower_part_3.tscn" id="14_jkv2x"]
[ext_resource type="Script" uid="uid://bxtjow2u3t7p8" path="res://scripts/tower_end_trigger.gd" id="15_0ld40"]
[ext_resource type="Texture2D" uid="uid://5w6jmb6s6jtk" path="res://assets/textures/sky_27_2k/sky_27_2k.png" id="15_muem4"]
[ext_resource type="PackedScene" uid="uid://bhlus1o4fqfxd" path="res://scenes/terrain_desert.tscn" id="16_jbj1t"]
[ext_resource type="Script" uid="uid://brahuilm236c7" path="res://scripts/dark_area.gd" id="18_dp3eg"]
[ext_resource type="PackedScene" uid="uid://c2suk4ky5e7mq" path="res://scenes/alien_info_lava.tscn" id="20_yc10j"]
[ext_resource type="PackedScene" uid="uid://cv22yn5ht4yp4" path="res://scenes/alien_info_water.tscn" id="21_jscy8"]
[ext_resource type="PackedScene" uid="uid://e4tbo2c0vtg1" path="res://assets/crystal_light.tscn" id="22_jscy8"]
[ext_resource type="PackedScene" uid="uid://b25tuhpvvctha" path="res://scenes/lava.tscn" id="23_pm3ni"]

[sub_resource type="Animation" id="Animation_o6xl0"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Alien_1:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Alien_1:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(30, 1.541, 30)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Alien_1:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(1, 0.9999999, 0.9999999)]
}

[sub_resource type="Animation" id="Animation_tefeu"]
resource_name = "alien_interaction"
length = 0.75
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Alien_1:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.36666667, 0.76666665),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(-0.45371583, 0, 0), Vector3(0, 0, 0), Vector3(0.19198622, 6.2831855, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Alien_1:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.26, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(30, 1.7917773, 30), Vector3(30, 1.541, 30)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Alien_1:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.33, 0.75),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(1, 0.9999999, 0.9999999), Vector3(1.2, 1.2, 1.2), Vector3(1, 0.9999999, 0.9999999)]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Alien_1")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"values": []
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tipki"]
_data = {
&"RESET": SubResource("Animation_o6xl0"),
&"alien_interaction": SubResource("Animation_tefeu")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_0ld40"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_jbj1t"]
panorama = ExtResource("15_muem4")

[sub_resource type="Sky" id="Sky_muem4"]
sky_material = SubResource("PanoramaSkyMaterial_jbj1t")

[sub_resource type="Environment" id="Environment_dp3eg"]
background_mode = 2
sky = SubResource("Sky_muem4")
ambient_light_source = 3
ssr_enabled = true
ssao_enabled = true
ssao_radius = 2.06
ssao_intensity = 3.08
glow_enabled = true
fog_density = 0.0735
volumetric_fog_enabled = true
volumetric_fog_length = 10.0

[sub_resource type="SphereShape3D" id="SphereShape3D_0ld40"]
radius = 88.669914

[node name="Main" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.7419642, -0.47407246, 0.47407246, 0, 0.7071068, 0.7071068, -0.6704396, 0.52464783, -0.52464783, 0, 7.7081947, 0)
light_energy = 0.9
light_volumetric_fog_energy = 0.0
shadow_enabled = true
shadow_normal_bias = 0.0
shadow_opacity = 0.85

[node name="HUD" parent="." instance=ExtResource("3_sugp2")]

[node name="Alien_1" parent="." node_paths=PackedStringArray("next_alien") instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 0.9999999, 0, 0, 0, 0.9999999, 30, 1.541, 30)
next_alien = NodePath("../Alien_T/Alien_T1")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Alien_1"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_tipki")
}

[node name="Rover" parent="." node_paths=PackedStringArray("spawn") instance=ExtResource("5_tbgi4")]
transform = Transform3D(0.007906224, 0, -0.9999687, 0, 1, 0, 0.9999687, 0, 0.007906224, -40.91223, 11.850445, 111.5809)
linear_damp_mode = 1
spawn = NodePath("../Spawn")
max_speed = 20.0
lower_center_of_mass = 0.2
show_debug = false

[node name="CameraPivot" type="Node3D" parent="Rover"]

[node name="Camera3D2" type="Camera3D" parent="Rover/CameraPivot" node_paths=PackedStringArray("hud")]
transform = Transform3D(0.039992224, -0.34174654, 0.9389408, -1.4816521e-08, 0.9396927, 0.34202012, -0.99920005, -0.0136781605, 0.037580393, 87.177505, 4.8664794, -65.33232)
top_level = true
current = true
near = 0.15
script = ExtResource("6_tefeu")
height = 2.5
hud = NodePath("../../../HUD")

[node name="Resources" type="Node3D" parent="."]

[node name="Rocks" type="Node3D" parent="Resources"]

[node name="RockResource" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.867823, 0.064933896, 27)

[node name="RockResource2" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0.5, -32.458)

[node name="RockResource3" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.225, 0.5, -40.982)

[node name="RockResource4" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 1, 54)

[node name="RockResource5" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, -0.058657885, 28.384092)

[node name="RockResource6" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0.5, 27)

[node name="RockResource7" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0.5, 27)

[node name="RockResource8" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 0.11865091, 22.48265)

[node name="RockResource9" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, 1, 54)

[node name="RockResource10" parent="Resources/Rocks" instance=ExtResource("6_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -33.740486, 0.08133626, 27)

[node name="Sandstones" type="Node3D" parent="Resources"]

[node name="SandstoneResource" parent="Resources/Sandstones" instance=ExtResource("7_85g3d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 0.5, 3)

[node name="SandstoneResource2" parent="Resources/Sandstones" instance=ExtResource("7_85g3d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0.5, 40)

[node name="SandstoneResource3" parent="Resources/Sandstones" instance=ExtResource("7_85g3d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -8.749)

[node name="SandstoneResource4" parent="Resources/Sandstones" instance=ExtResource("7_85g3d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 0.5, 3)

[node name="SandstoneResource5" parent="Resources/Sandstones" instance=ExtResource("7_85g3d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 0.5, 3)

[node name="Metalscraps" type="Node3D" parent="Resources"]

[node name="MetalScrapResource" parent="Resources/Metalscraps" instance=ExtResource("8_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0.5, -10)

[node name="MetalScrapResource2" parent="Resources/Metalscraps" instance=ExtResource("8_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0.5, -20)

[node name="MetalScrapResource3" parent="Resources/Metalscraps" instance=ExtResource("8_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, 0.5, -50)

[node name="MetalScrapResource4" parent="Resources/Metalscraps" instance=ExtResource("8_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0.5, -10)

[node name="MetalScrapResource5" parent="Resources/Metalscraps" instance=ExtResource("8_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14, 1, -20)

[node name="MetalScrapResource6" parent="Resources/Metalscraps" instance=ExtResource("8_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0.5, -10)

[node name="MetalScrapResource7" parent="Resources/Metalscraps" instance=ExtResource("8_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0.5, -10)

[node name="MetalScrapResource8" parent="Resources/Metalscraps" instance=ExtResource("8_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0.5, -10)

[node name="Wood" type="Node3D" parent="Resources"]

[node name="WoodResource" parent="Resources/Wood" instance=ExtResource("8_0ld40")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -50, 0, 0)

[node name="Crystal" type="Node3D" parent="Resources"]

[node name="CrystalResource" parent="Resources/Crystal" instance=ExtResource("9_gqmmt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -60, 0, 0)

[node name="Alien_T" type="Node3D" parent="."]

[node name="Alien_T1" parent="Alien_T" node_paths=PackedStringArray("tower_part", "next_alien") instance=ExtResource("9_85g3d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 1.5, 60)
tower_part = NodePath("../../Tower_Parts/TowerPart_1")
next_alien = NodePath("../Alien_T2")

[node name="Alien_T2" parent="Alien_T" node_paths=PackedStringArray("tower_part", "next_alien") instance=ExtResource("11_eb6dy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 1.5, -50)
tower_part = NodePath("../../Tower_Parts/TowerPart_2")
next_alien = NodePath("../Alien_T3")

[node name="Alien_T3" parent="Alien_T" node_paths=PackedStringArray("tower_part") instance=ExtResource("13_a8y0u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 50, 1.5, 8)
tower_part = NodePath("../../Tower_Parts/TowerPart_3")

[node name="Tower_Parts" type="Node3D" parent="."]

[node name="TowerPart_1" parent="Tower_Parts" instance=ExtResource("10_choun")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 1.5, -20)
visible = false

[node name="TowerPart_2" parent="Tower_Parts" instance=ExtResource("12_trceg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 4.5, -20)
visible = false

[node name="TowerPart_3" parent="Tower_Parts" instance=ExtResource("14_jkv2x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 7.5, -20)
visible = false

[node name="EndTrigger" type="Area3D" parent="Tower_Parts"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, -20, 1, -20)
script = ExtResource("15_0ld40")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Tower_Parts/EndTrigger"]
shape = SubResource("BoxShape3D_0ld40")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_dp3eg")

[node name="TerrainDesert" parent="." instance=ExtResource("16_jbj1t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.950966, -114.50533, 29.449638)
light_color = Color(1, 0.7294118, 0, 1)
light_energy = 5.566
light_indirect_energy = 2.0
light_volumetric_fog_energy = 9.651
omni_range = 34.695477

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.3731937, -0.33578157, -10.082807)
light_color = Color(1, 0.7294118, 0, 1)
light_energy = 2.0
light_indirect_energy = 2.0
light_volumetric_fog_energy = 4.94
omni_range = 8.404954

[node name="OmniLight3D3" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.525171, -0.33578157, -18.737545)
light_color = Color(1, 0.7294118, 0, 1)
light_energy = 2.0
light_indirect_energy = 2.0
light_volumetric_fog_energy = 4.94
omni_range = 8.404954

[node name="DarkArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -85.94104, 0, 161.42108)
script = ExtResource("18_dp3eg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DarkArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.373947, 0, -2.955511)
shape = SubResource("SphereShape3D_0ld40")

[node name="Info_Aliens" type="Node3D" parent="."]

[node name="Alien_Info_Lava" parent="Info_Aliens" instance=ExtResource("20_yc10j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -100, 1, 0)

[node name="Alien_Info_Water" parent="Info_Aliens" instance=ExtResource("21_jscy8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -70, 1, 0)

[node name="CrystalLight" parent="." instance=ExtResource("22_jscy8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -73.143234, 6.232647, 200.50607)
light_energy = 50.0
light_volumetric_fog_energy = 0.5
shadow_enabled = true
omni_range = 20.306171

[node name="CrystalLight2" parent="." instance=ExtResource("22_jscy8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -126.13236, 8.632917, 185.13095)
light_color = Color(0.8022955, 0.43777448, 0.8432384, 1)
shadow_enabled = true
omni_range = 16.307486

[node name="Lava" parent="." instance=ExtResource("23_pm3ni")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.814653, 0.97229576, 106.18353)

[node name="Spawn" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 79.82175, 2.2798433, -66.15085)

[connection signal="animation_finished" from="Alien_1/AnimationPlayer" to="Alien_1" method="_on_animation_player_animation_finished"]
[connection signal="body_entered" from="DarkArea" to="DarkArea" method="_on_body_entered"]
[connection signal="body_exited" from="DarkArea" to="DarkArea" method="_on_body_exited"]
